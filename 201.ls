on initmusiclist  global musiclist, clickslist, qnumlist  set ml1 to "59616364666860"  set ml2 to "57615761626564646260"  set ml3 to "605754514845646462606!"  set qnumlist to [2, 2, 2]  set musiclist to [ml1, ml2, ml3]  set clickslist to []  repeat with i = 1 to 3    set listname to getAt(musiclist, i)    set allchars to length(listname)    set allsounds to allchars / 2    addAt(clickslist, i, allsounds)  end repeatendon initbuttonlist  global buttonlist  set buttonlist to []  repeat with i = 0 to 15    addAt(buttonlist, i)  end repeatendon initscalelist  global scalelist  set n to random(3)  case n of    1:      set slist to ["59", "72", "61", "65", "63", "6!", "64", "60", "66", "45", "68", "48", "54", "57", "62", "51"]    2:      set slist to ["65", "63", "6!", "64", "60", "66", "45", "68", "48", "54", "57", "62", "51", "59", "72", "61"]    3:      set slist to ["6!", "64", "60", "66", "45", "68", "48", "54", "57", "62", "51", "59", "72", "61", "65", "63"]  end case  set scalelist to []  set n to random(16)  repeat with i = 1 to 16    set anitem to getAt(slist, n)    set n to n + 1    if n > 16 then      set n to 1    end if    addAt(scalelist, i, anitem)  end repeatendon changenumber2mml num  global scalelist  if num = 0 then    return "r"  end if  set ret to getAt(scalelist, num)  return retendon changemml2number str  global scalelist  set ret to getPos(scalelist, str)  return retendon answercheck  global soundnumber, musiclist, stage, answer, answerloop  set ml to getAt(musiclist, soundnumber)  set sd1 to getsounddata(ml, answerloop)  set ans1 to changemml2number(sd1)  if ans1 = answer then    return 1  else    return 0  end ifendon getsounddata snd, num  set num2 to ((num - 1) * 2) + 1  set s to char num2 of snd  if s = "#" then    set s2 to char num2 + 1 to num2 + 2 of snd  else    set s2 to char num2 + 1 of snd  end if  return s & s2endon calcsoundlength num  global musiclist, soundnumber  set ml to getAt(musiclist, soundnumber)  set cnt to 0  repeat with i = 1 to the number of chars in ml    set tmp to char i of ml    if tmp = "#" then      set diff to 3    else      set diff to 2    end if    set cnt to cnt + 1    set i to i + diff  end repeat  return cnt - 1end